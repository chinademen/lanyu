<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <script>
        //              2019 - 1 - 1		2019 - 1 - 16	Y = 2019; M = 1; D = 16;
        // 1			2018 - 12 - 16	    2019 - 1 - 1
        // 2			2018 - 12 - 1	    2018 - 12 - 16
        // 3			2018 - 11 - 16	    2018 - 12 - 1
        // 4			2018 - 11 - 1	    2018 - 11 - 16
        // 5			2018 - 10 - 16	    2018 - 11 - 1
        // 6			2018 - 10 - 1	    2018 - 10 - 16
        // 7			2018 - 9 - 16	    2018 - 10 - 1
        // 8			2018 - 9 - 1		2018 - 9 - 16
        // 9			2018 - 8 - 16	    2018 - 9 - 1
        // 10			2018 - 8 - 1		2018 - 8 - 16
        // 特殊情况：
        // 1. 月份等于1 	M === 1
        // 2. 日期小于15	D < 15
        let today = new Date();
        let Y = today.getFullYear(); // 2019
        let M = today.getMonth() + 1; // 1
        let D = today.getDate(); // 1
        let val = '';
        let str = '';
        const list = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(item => {
            let obj = {};
            // 1-1 - 1-15
            if (M === 1 && D < 15) {
                Y = Y - 1;
                M = 12;
                D = 16;
                val = `${Y}-${M}-${D}`;
                str = `${Y}-${M}下半月`;
            } else {
                // n-1 - n-15
                if (D < 15) {
                    M = M - 1;
                    D = 16;
                    val = `${Y}-${M}-${D}`;
                    str = `${Y}-${M}下半月`;
                } else {
                    // n-16 - n-31
                    D = 1;
                    val = `${Y}-${M}-${D}`;
                    str = `${Y}-${M}上半月`;
                }
            }
            obj.val = val;
            obj.str = str;
            return obj;
        });
        console.log(list);



    </script>

</body>

</html>